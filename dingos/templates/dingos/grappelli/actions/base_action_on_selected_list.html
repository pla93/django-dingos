{% extends "dingos/grappelli/lists/base_lists_two_column.html" %}

{% comment %}
Copyright (c) Siemens AG, 2014

This file is part of MANTIS.  MANTIS is free software: you can
redistribute it and/or modify it under the terms of the GNU General Public
License as published by the Free Software Foundation; either version 2
of the License, or(at your option) any later version.

This program is distributed in the hope that it will be useful, but WITHOUT
ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more
details.

You should have received a copy of the GNU General Public License along with
this program; if not, write to the Free Software Foundation, Inc., 51
Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
{% endcomment %}




{% load dingos_tags %}

{# Below, we fill out the form that queries the search parameters #}


{% block content_frontmatter %}
<form method="POST" xmlns="http://www.w3.org/1999/html">
    {% csrf_token %}
    {{view.form.checked_objects_choices}}
{% endblock %}

{% block list_title %} Selected Objects {% endblock %}



{% block right_column %}

{# TODO remove margin-top here, should be solved globally #}
<div class="grp-module" style="margin-top: 32px;">
    <h2>{% block tool_title %} Action {% endblock %}</h2>

<div class="grp_row">
   {% block action_description %}
   {% endblock %}
</div>

  <div class="grp-module">
      {% block action_form_fields %}

      {# show fields of action form here #}

<!--
    <table class="grp-full-width">




        <tbody>

                   <tr>
                       <th>[Field-Tag]</th>
                    <td>[Field-Errors] [Field]</td>
                   </tr>


        </tbody>
    </table>
-->
      {% endblock %}
  </div>
    {% block submit_button %}<input type="submit" value="{% block action_form_button_label %}Do it!{% endblock %}" />{% endblock %}
</div>


{% endblock %}

{# Below, fill out the #}

{% block frontmatter %}
{{view.description}} <br/><br/>
{% endblock %}

{% block objects %}
    {% if view.type == "InfoObject" %}
        {% include "dingos/grappelli/includes/_InfoObjectActionListView.html" %}
    {% elif view.type ==  "Fact" %}
        {% include "dingos/grappelli/includes/_FactActionListView.html" %}
    {% else %}
       <div class="grp-module grp-changelist-results">

    <table id="result_list" cellspacing="0" class="grp-sortable">

        {% block header_row %}


        {% endblock %}

        <div id="id_checked_objects">


       <tbody>

       {% for checkbox in view.form.checked_objects %}
         {% with pk=checkbox.choice_label %}
         {% obj_by_pk pk as obj %}


           <tr class="grp-row grp-row-{% cycle 'odd' 'even' %}">
               <td> {{ checkbox.tag }}</td>
               {% block instance_columns %}

               {% endblock %}

           </tr>

         {% endwith %}
       {% endfor %}
       </tbody>
     </div>
 </table>
</div>
    {% endif %}
{% endblock %}


{% block content_backmatter %}
</form>
{% endblock %}


